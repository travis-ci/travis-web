<section class='dash-head {{build.state}}'>
  {{repository-visibility-icon repository=build.repo}}
</section>

<section class='dash-body'>
  <section class='dash-main'>
    <section class='state {{build.state}}'>
      {{status-icon status=build.state}}
    </section>

    <section class='repo color'>
      <div class='row-content' data-test-owner>{{build.repo.owner.login}}</div>
      <div class='row-content'  data-test-repo-name>{{build.repo.name}}</div>
    </section>

    <section class='message-and-branch'>
      <div class='message row-content' data-test-commit-message>
        {{{format-message build.commit.message short='true' repo=build.repo eventType=build.eventType}}}
      </div>
      <div class='row-content' data-test-branch-name>
        {{svg-jar 'icon-branch' class='icon'}}
        {{build.branch.name}}
      </div>
    </section>

    <section class='state-and-sha'>
      {{#link-to 'build' build.repo build data-test-state-number class='row-content'}}
        {{request-icon event=build.eventType state=build.state}}
        <span class='inner-underline'>#{{build.number}} {{build.state}}</span>
      {{/link-to}}
      {{#external-link-to data-test-commit-sha href=build.commit.githubUrl class='row-content'}}
        {{tooltip-on-element text='View commit on GitHub'}}
        {{svg-jar 'icon-commit' class="icon"}}
        <span class="label-align inner-underline">{{format-sha build.commit.sha}}</span>
        {{svg-jar 'icon-external-link' class="icon"}}
      {{/external-link-to}}
    </section>

    <section class='times'>
      <div title="{{if build.elapsedTime (concat "Started " (pretty-date build.startedAt))}}" class="commit-stopwatch row-content">
        {{svg-jar 'icon-stopwatch' class="icon--m"}}
        <span class="label-align" data-test-duration>
          <time datetime="PT{{build.elapsedTime}}S">{{format-duration build.elapsedTime}}</time>
        </span>
      </div>
      <div class="row-content" title="{{build.finishedAt}}">
        {{svg-jar 'icon-calendar' class="icon"}}
        <span class="label-align" data-test-finished>
          {{#if build.finishedAt}}
          {{format-time build.finishedAt}}
          {{else}}still running{{/if}}</span>
      </div>
    </section>

    <section class='restart'>
      {{repo-actions build=build repo=build.repo labelless=true}}
    </section>
  </section>
</section>
