<TravisForm
  @onSubmit={{perform this.save}}
  as |form|
>
  <div class="form-elem">
    <form.field
      @label="Name"
      @value={{this.name}}
      @requiredOverride={{true}}
      @validateOnField={{false}}
      @showValidationStatusIconsOverride={{false}}
      @onChange={{action (mut this.name)}}
      @validator={{action "validateEnvName"}}
      as |field|
    >
      <field.input class="env-name" placeholder="Name" />
    </form.field>
  </div>
  <div class="form-elem">
    <form.field
      @label="Value"
      @value={{this.value}}
      @requiredOverride={{true}}
      @onChange={{action (mut this.value)}}
      @showValidationStatusIconsOverride={{false}}
      as |field|
    >
      <field.input class="env-value" placeholder="Value" />
    </form.field>
  </div>
  <div class="form-elem">
    <form.field
      @label="Branch"
      @value={{this.branch}}
      @requiredOverride={{false}}
      class="env-branch-selector"
      @showValidationStatusIconsOverride={{false}}
      as |field|
    >
      <field.select
        @placeholder="All branches"
        @allowClear={{true}}
        @onchange={{action (mut this.branch)}}
        @search={{perform this.search}}
        as |branch|
      >
        {{branch}}
      </field.select>
    </form.field>
  </div>
  <div class="form-elem">
    <form.field
      @label="Display value in build log"
      @disableFrame={{true}}
      class="display-value-switch"
      @value={{this.public}}
      @onChange={{action (mut this.public)}}
      as |field|
    >
      {{field.switch}}
    </form.field>
  </div>
  <div class="form-elem">
    {{#if this.save.isRunning}}
      <LoadingIndicator />
    {{else}}
      <button onclick={{form.submit}} class="add-env-form-submit form-submit">
        Add
      </button>
    {{/if}}
  </div>
</TravisForm>
