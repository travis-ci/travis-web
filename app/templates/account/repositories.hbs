<div id="administerable-repositories">
  <ul class="profile-repositorylist">
    {{#each sortedRepositories as |repository|}}
      {{repository-status-toggle repository=repository}}
    {{else}}
      <li>Sorry, it seems like we couldn't find any repositories you have access to on GitHub.</li>
    {{/each}}
  </ul>
</div>
{{#if sortedRepositories.length}}
  {{pagination-navigation collection=model route="account.repositories" inner=6 outer=2}}
{{/if}}

{{#repository-filter
  repositories=sortedRepositories
  queryFunction=(action 'filterQuery') as |filter| }}
  {{#component filter.form as |form|}}
    {{#if features.repositoryFiltering}}
      <div class="repository-filter">
        <label>Filter repositories:</label>
        {{component form.searchField}}
      </div>
    {{/if}}
  {{/component}}
  <div id="administerable-repositories">
    {{#if filter.isLoading}}
      {{loading-indicator}}
    {{else}}
      <ul class="profile-repositorylist">
        {{#each filter.repositories as |repository|}}
          {{repository-status-toggle
          repository=repository
          slug=(compute filter.computeSlug repository.slug filter.isFiltering filter.query)
          }}
        {{else}}
          {{#if filter.isFiltering}}
            <li>Sorry, no results found.</li>
          {{else}}
            <li>Sorry, it seems like we couldn't find any repositories you have access to on GitHub.</li>
          {{/if}}
        {{/each}}
      </ul>
    {{/if}}
  </div>
  {{#unless filter.isFiltering}}
    {{pagination-navigation collection=model.repos route="account" inner=6 outer=2}}
  {{/unless}}
{{/repository-filter}}
