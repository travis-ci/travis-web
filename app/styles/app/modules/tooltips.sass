%tooltip
  .tooltip-bubble
    position: absolute
    top: -2.8em
    width: auto
    height: 1.6em
    margin: auto
    padding: .1em .4em
    z-index: 5
    background-color: #818383
    border-radius: 4px
    color: white
    font-size: 12px
    line-height: 1.3
    text-align: center
    white-space: nowrap
    visibility: hidden

    transition: all 100ms ease
    transform: translateY(20%)
    opacity: 0

    a
      color: white
      &:hover
        text-decoration: underline
    &:before
      content: ""
      position: absolute
      bottom: -0.3em
      width: 1em
      height: 1em
      transform: rotate(45deg)
      z-index: -1
      background-color: #818383

  &:hover .tooltip-bubble
    transform: translateY(0)
    opacity: 1
    visibility: visible

.tooltip
  @extend %tooltip
  .tooltip-bubble
    right: 0
    left: 0
    max-width: 5em
    &:before
      left: 40%

.tooltip--height
  @extend %tooltip
  .tooltip-bubble
    right: 0
    left: 0
    top: -4em
    height: 2.9em
    max-width: 8.6em
    &:before
      left: 45%

.tooltip-settings
  @extend %tooltip
  display: inline-block
  position: relative
  .icon
    width: 1.2em
    height: 1.2em
    vertical-align: middle
  .tooltip-bubble
    top: -4em
    left: -1.9em
    height: 2.9em
    &:before
      left: 2.5em

.tooltip--profile
  @extend %tooltip
  .tooltip-bubble
    left: -2.4em
    width: 6em
    &:before
      left: 2.5em


// trying to rewrite

$tooltip-spacing: 2.7em
$tooltip-arrow-width: .8em

[data-tooltip]
  position: relative
  display: inline-block
  vertical-align: middle
  text-align: center
  &:after
    content: attr(data-tooltip)
    padding: 0.2em 0.3em
    color: white
    border-radius: 2px
    bottom: $tooltip-spacing
    white-space: normal
    font-size: 12px
  &:before
    content: ""
    width: $tooltip-arrow-width
    height: $tooltip-arrow-width
    transform: rotate(45deg)
    bottom: $tooltip-spacing - $tooltip-arrow-width

  &:after,
  &:before
    display: block
    position: absolute
    background: $asphalt-grey
    left: 0
    right: 0
    margin: auto
    display: none

  &:hover,
  &:active
    &:after,
    &:before
      display: block

.repo-main-tools *[data-tooltip]
  &:hover, &:active
    &::before, &::after
      // Hide tooltips unless in labelless display
      display: none

.repo-main-tools.labelless *[data-tooltip]
  &:hover, &:active
    &::before, &::after
      display: block
      text-align: center
    &::after
      left: -3em

.pr-row .two-line.actions
  // Show tooltips outside container in build list
  overflow: visible
  *[data-tooltip]::after
    left: -4em

.request-item
  [data-tooltip]
    $tooltip-spacing: 3em
    position: absolute
    top: .5em
    right: 0
    width: 7em
    text-align: center
    z-index: 3
    &:after
      bottom: $tooltip-spacing
    &:before
      bottom: $tooltip-spacing - $tooltip-arrow-width
    @media #{$medium-up}
      width: 3em
    @media #{$large-up}
      width: 5em
    @media #{$xlarge-up}
      width: 7em

.tooltip-jobs[data-tooltip]
  $tooltip-spacing: 2.5em
  text-align: center
  &:after
    bottom: $tooltip-spacing
    width: 9em
    left: -3.5em
  &:before
    bottom: $tooltip-spacing - $tooltip-arrow-width

.tooltip-beta-features[data-tooltip]
  text-align: center
  vertical-align: baseline

.build-header
  [data-tooltip]
    &:after
      margin: 0
      width: 14em
    &:before
      margin: 0
      left: 2em
